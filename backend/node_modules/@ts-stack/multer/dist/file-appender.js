export function createFileAppender(strategy, obj, groups) {
    switch (strategy) {
        case 'NONE':
            break;
        case 'VALUE':
            obj.file = Object.create(null);
            break;
        case 'ARRAY':
            obj.files = [];
            break;
        case 'OBJECT':
            obj.groups = Object.create(null);
            break;
        default:
            throw new Error(`Unknown file strategy: ${strategy}`);
    }
    if (strategy === 'OBJECT') {
        for (const group of groups) {
            obj.groups[group.name] = [];
        }
    }
    return function append(file) {
        switch (strategy) {
            case 'VALUE':
                obj.file = file;
                break;
            case 'ARRAY':
                obj.files.push(file);
                break;
            case 'OBJECT':
                obj.groups[file.fieldName].push(file);
                break;
        }
    };
}
//# sourceMappingURL=file-appender.js.map